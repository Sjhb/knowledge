#### DNS解析过程
输入http，进行DNS查询的过程
1. 查看浏览器DNS缓存（浏览器会缓存dns解析结果）
2. 在当前本地系统中寻找hosts文件，查看hosts文件中时候有这个网址映射关系
3. 查找本地DNS解析器缓存（操作系统缓存域名解析纪录），是否有这个网址映射关系或缓存信息，如果有，直接返回给浏览器，完成域名解析
4. 查找本地DNS服务器，本地DNS服务器地址一般根据DHCP协议由运营商或者本地局域网动态分配，一些路由器也有DNS缓存功能，在这些路由器的局域网下，本地DNS服务器就是路由器的地址。公司内网也可以提供本地DNS服务器
5. 本地DNS服务器没找到DNS解析结果时，分两种情况讨论
    - 未转发模式：当前本地DNS服务器向，根DNS服务器进行查询，根DNS服务器根据请求查询的域名返回一个IP，指向负责该顶级域名的DNS服务器，入.com，本地DNS服务器继续向顶级域名服务器查询，如果该顶级域名服务器不能解析，它会返回一个管理.com的下一级DNS服务器地址给到本地DNS服务器（例如NS纪录），本地DNS服务器收到结果后，继续重复上述查询过程，直到找到域名对应的IP地址
    - 转发模式：此DNS服务器就会把请求转发至上一级DNS服务器，由上一级服务器进行解析，上一级服务器如果不能解析，或找根DNS或把转请求转至上上级，以此循环。不管是本地DNS服务器用是是转发，还是根DNS，最后都是把结果返回给本地DNS服务器，由此DNS服务器再返回给客户机。


#### CDN

1. 客户将当前自己的域名解析纪录类型设为CNAME，并指向CDN地址
2. CDN域名纪录类型为NS（域名服务器记录（Name Server），返回保存下一级域名信息的服务器地址。该记录只能设置为域名，不能设置为IP地址），指向CDN私有DNS服务器
3. CDN私有DNS服务器，根据负载均衡系统，把对用户响应速度最快的IP地址返回给用户
4. 用户向该IP地址（CND服务器）发出请求